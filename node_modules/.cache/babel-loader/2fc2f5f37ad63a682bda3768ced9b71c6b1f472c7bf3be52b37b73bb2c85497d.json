{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button}from'react-bootstrap';import\"./Timer.css\";import{useNavigate}from'react-router-dom';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const staticTeamList=[{name:'Rhea',position:'Baller',captain:false,playing:false},{name:'Blaine',position:'Computer',captain:false,playing:false},{name:'Jeffin',position:'Midfield',captain:false,playing:false},{name:'Sarthi',position:'Defender',captain:false,playing:false}];// Individual Clock component for each player\nconst PlayerClock=_ref=>{let{player,timer,toggleTimer}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"player-clock\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[player.name,\"'s Time: \",new Date(timer.seconds*1000).toISOString().substr(11,8)]}),/*#__PURE__*/_jsx(Button,{variant:timer.isActive?'danger':'success',onClick:()=>toggleTimer(player.name),children:timer.isActive?'Pause':'Start'})]});};// Timer component to display all players' clocks\nfunction Timer(){const navigate=useNavigate();const[timers,setTimers]=useState(staticTeamList.reduce((acc,player)=>{acc[player.name]={seconds:0,isActive:false};return acc;},{}));const toggleTimer=playerName=>{setTimers(prevTimers=>{const isActive=!prevTimers[playerName].isActive;const newTimers={...prevTimers,[playerName]:{...prevTimers[playerName],isActive}};return newTimers;});};useEffect(()=>{const activeTimers=Object.entries(timers).filter(_ref2=>{let[,timer]=_ref2;return timer.isActive;});if(activeTimers.length===0)return;const interval=setInterval(()=>{setTimers(prevTimers=>{const newTimers={...prevTimers};activeTimers.forEach(_ref3=>{let[playerName]=_ref3;newTimers[playerName].seconds+=1;});return newTimers;});},1000);return()=>clearInterval(interval);},[timers]);const endGame=()=>{// Save the times to localStorage\nconst playerTimesForStorage={};Object.keys(timers).forEach(playerName=>{const timeString=new Date(timers[playerName].seconds*1000).toISOString().substr(11,8);playerTimesForStorage[playerName]=timeString;});localStorage.setItem('playerTimes',JSON.stringify(playerTimesForStorage));navigate('/endGame');};return/*#__PURE__*/_jsxs(\"div\",{className:\"timer\",children:[staticTeamList.map(player=>/*#__PURE__*/_jsx(PlayerClock,{player:player,timer:timers[player.name],toggleTimer:toggleTimer},player.name)),/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:endGame,className:\"mt-3\",children:\"End Game\"})]});}export default Timer;","map":{"version":3,"names":["React","useState","useEffect","Button","useNavigate","jsxs","_jsxs","jsx","_jsx","staticTeamList","name","position","captain","playing","PlayerClock","_ref","player","timer","toggleTimer","className","children","Date","seconds","toISOString","substr","variant","isActive","onClick","Timer","navigate","timers","setTimers","reduce","acc","playerName","prevTimers","newTimers","activeTimers","Object","entries","filter","_ref2","length","interval","setInterval","forEach","_ref3","clearInterval","endGame","playerTimesForStorage","keys","timeString","localStorage","setItem","JSON","stringify","map"],"sources":["/Users/jeffinvarghese/Desktop/IntraTracker/src/Timer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport \"./Timer.css\";\nimport { useNavigate } from 'react-router-dom';\n\nconst staticTeamList = [\n  {\n    name: 'Rhea',\n    position: 'Baller',\n    captain: false,\n    playing: false,\n  },\n  {\n    name: 'Blaine',\n    position: 'Computer',\n    captain: false,\n    playing: false,\n  },\n  {\n    name: 'Jeffin',\n    position: 'Midfield',\n    captain: false,\n    playing: false,\n  },\n  {\n    name: 'Sarthi',\n    position: 'Defender',\n    captain: false,\n    playing: false,\n  }\n];\n\n// Individual Clock component for each player\nconst PlayerClock = ({ player, timer, toggleTimer }) => {\n  return (\n    <div className=\"player-clock\">\n      <h3>{player.name}'s Time: {new Date(timer.seconds * 1000).toISOString().substr(11, 8)}</h3>\n      <Button variant={timer.isActive ? 'danger' : 'success'} onClick={() => toggleTimer(player.name)}>\n        {timer.isActive ? 'Pause' : 'Start'}\n      </Button>\n    </div>\n  );\n};\n\n// Timer component to display all players' clocks\nfunction Timer() {\n  const navigate = useNavigate();\n\n  const [timers, setTimers] = useState(\n    staticTeamList.reduce((acc, player) => {\n      acc[player.name] = { seconds: 0, isActive: false };\n      return acc;\n    }, {})\n  );\n\n  const toggleTimer = (playerName) => {\n    setTimers(prevTimers => {\n      const isActive = !prevTimers[playerName].isActive;\n      const newTimers = {\n        ...prevTimers,\n        [playerName]: { ...prevTimers[playerName], isActive }\n      };\n      return newTimers;\n    });\n  };\n\n  useEffect(() => {\n    const activeTimers = Object.entries(timers).filter(([, timer]) => timer.isActive);\n    if (activeTimers.length === 0) return;\n\n    const interval = setInterval(() => {\n      setTimers(prevTimers => {\n        const newTimers = { ...prevTimers };\n        activeTimers.forEach(([playerName]) => {\n          newTimers[playerName].seconds += 1;\n        });\n        return newTimers;\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [timers]);\n\n  const endGame = () => {\n    // Save the times to localStorage\n    const playerTimesForStorage = {};\n    Object.keys(timers).forEach((playerName) => {\n      const timeString = new Date(timers[playerName].seconds * 1000).toISOString().substr(11, 8);\n      playerTimesForStorage[playerName] = timeString;\n    });\n    localStorage.setItem('playerTimes', JSON.stringify(playerTimesForStorage));\n    navigate('/endGame');\n  };\n\n  return (\n    <div className=\"timer\">\n      {staticTeamList.map(player => (\n        <PlayerClock key={player.name} player={player} timer={timers[player.name]} toggleTimer={toggleTimer} />\n      ))}\n      <Button variant=\"warning\" onClick={endGame} className=\"mt-3\">End Game</Button>\n    </div>\n  );\n}\n\nexport default Timer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}